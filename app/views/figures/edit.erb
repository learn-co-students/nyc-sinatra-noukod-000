<h1>Edit Figure <%= @figure.name %></h1>

<form action="/figures/<%= @figure.id %>" method="POST">
  <input type="hidden" name="_method" value="patch" />
  <label for="name">Name</label>
  <input text="name" name="figure[name]" id="figure_name" value="<%= @figure.name %>" />

  <h2>Titles</h2>
  <% @titles.each do |title| %>
  <p>
    <label for="title_<%= title.id %>"><%= title.name %></label>
    <input type="checkbox" name="figure[title_ids][]" id="title_<%= title.id %>" value="<%= title.id %>"
    <%= 'checked' if @figure.titles.include?(title) %> />
  </p>
  <% end %>

  <h3>Create New Title</h3>
  <p><input type="text" name="title[name]" id="new_title" /></p>

  <h2>Landmarks</h2>
  <% @landmarks.each do |landmark| %>
  <p>
    <label for="landmark_<%= landmark.id %>"><%= landmark.name %></label>
    <input type="checkbox" name="figure[landmark_ids][]" id="landmark_<%= landmark.id %>" value="<%= landmark.id %>"
    <%= 'checked' if @figure.landmarks.include?(landmark) %> />
  </p>
  <% end %>
  <h3>Create New Landmark</h3>
  <p>
    <label for="new_landmark">Name:</label>
    <input type="text" name="landmark[name]" id="new_landmark" />

    <label for="landmark_year">Year:</label>
    <input type="text" name="landmark[year]" id="landmark_year" />
  </p>

  <p><input type="submit" name="submit" id="submit" value="Edit Figure" />
</form>